2010-04-08  Michael Johnson <m.johnson@opendap.org>

	Changed the order of the -I and -L commands for BES, libdap, and ICU to make ICU last to avoid getting /usr/local includes prior to the --prefix locations in compile and link.

2010-04-08  Michael Johnson <m.johnson@opendap.org>

	Changed order of BES_DAPLIBS and ICU_LIBS to try and avoid finding old BES and DAP libs in /usr/local/lib (since ICU add -L/usr/local/lib if it's installed tehre).

2010-04-08  Michael Johnson <m.johnson@opendap.org>

	AggregationElement.cc: typo
	configure.ac: changed bug email to support@opendap.org not opendap-tech
	testsuite.at: put back the bes.conf macro
	joinNew_scan_olderThan.ncml: dropped the "older than" time to minutes rather than hour for fresh installs to pass.

2010-04-07  Michael Johnson <m.johnson@opendap.org>

	Removed bes_conf_path macro repalcement for invocation of besstandalone to test potential issue with newer autoconf.

2010-04-07  Michael Johnson <m.johnson@opendap.org>

	Bug fixes for #1514.  Name collisions were being checked only for new attributes or variables, not both.  The namespaces are actually the same, so we need to make sure the FQN is entirely free when making new attributes and variables.

2010-04-02  Michael Johnson <m.johnson@opendap.org>

	Dropped autoconf min version to 2.62 (which the top-level shrew configure.ac requires) instead of 2.63 now that icu is not a subproject that requires it.

2010-04-02  Michael Johnson <m.johnson@opendap.org>

	Changes to reflect ICU as an external dependency not internal.

2010-04-02  Michael Johnson <m.johnson@opendap.org>

	ncml_module.spec: %files section needed update for the new way bes handles conf files...  now installs ncml.conf as required.

2010-04-02  Michael Johnson <m.johnson@opendap.org>

	Wrong min version of icu lib

2010-04-02  Michael Johnson <m.johnson@opendap.org>

	Fixed distcheck data install problem (doesn't like * character for distcheck oddly)

2010-04-02  Michael Johnson <m.johnson@opendap.org>

	Cleaned out commented portions of old icu subproject

2010-04-02  Michael Johnson <m.johnson@opendap.org>

	Initial changes to remove icu as a subproject and find it as an external dependency.  NOT FULLY TESTED and docs not updated.  Checkin required for testing.

2010-04-01  Michael Johnson <m.johnson@opendap.org>

	Changed baselines to match changes to libdap for ticket #1512.  Strings used to contain XML entities as escapes, now they use \\octal escaped chars.

2010-03-29  Patrick West <pwest@ucar.edu>

	+= used for BES.modules
	M    ncml.conf.in

2010-03-23  James Gallagher <jgallagher@opendap.org>

	Added comment character between #endif and __AGG_UTIL__GRID_AGGREGATE_ON_OUTER_DIMENSION_H__.

2010-02-18  Michael Johnson <m.johnson@opendap.org>

	Branch for release.

;; Local Variables:
;; coding: utf-8
;; End:
2010-02-05  Michael Johnson <m.johnson@opendap.org>

	Added a couple of examples for joinNew on grids to the installed data.

2010-02-05  Michael Johnson <m.johnson@opendap.org>

	Newer gcc doesn't allow inner classes to be private.  VariableValueValidator defn made public.

2010-02-04  Michael Johnson <m.johnson@opendap.org>

	Test added for autogenerated explicit coordinate variable for joinNew map.  Uses values@start and values@increment to make an explicit map of the correct dimensionality.

2010-02-04  Michael Johnson <m.johnson@opendap.org>

	Fixes for Ticket #1445.  We now allow placeholder (no values set) new variables to exist until the closing of their enclosing dataset (netcdf element).  This allows the author to specify the new coordinate variable (map vector) metadata but allow the joinNew aggregation to set the values in the closing phase of the netcdf element.  If the values are not set after the aggregation postprocessing step, a parse error is thrown to avoid later libdap internal errors (and it's also illegal ncml to make a new variable with no values).

2010-02-04  Michael Johnson <m.johnson@opendap.org>

	Removing many autogenerated files that were accidentally added at initial recursive add.

2010-01-30  Michael Johnson <m.johnson@opendap.org>

	Changes to attempt to fix nightly build error ticket #1473.

	icu/source/icudefs.mk.in: changed to add "hyrax_icu" to prefix var.  This file is used by the entire icu build so it all gets installed into ${prefix}/hyrax_icu regardless of whether prefix is set with --prefix or is defaults.

	icu/source/configure.gnu: changed to ignore certain top-level configure options and add hyrax-specific options to the call to the actual configure.  Removed prefix changes since they failed with default prefix.  Solved in icudefs.mk.in.

2010-01-29  Michael Johnson <m.johnson@opendap.org>

	o Ticket #1472.  Support for sorting on the coordValue ISO 8601 date if a scan@dateFormatMark is used.

	o Removed the test for matching the prefix of the dateFormatMark exactly.  Instead, we just skip that many characters, as the NcML aggregation page says.  Was necessary to make our new test work.

	o Changed the regexp for the dateFormatMark tests since both datasets live in the same dir and the only expressions were overmatching.

2010-01-29  Michael Johnson <m.johnson@opendap.org>

	o Removing accidental cache dir inclusion.

2010-01-29  Michael Johnson <m.johnson@opendap.org>

	o Removing accidental binary inclusion.

2010-01-29  Michael Johnson <m.johnson@opendap.org>

	o Doc change for #1473 to list changes we make to configure.in original.

2010-01-29  Michael Johnson <m.johnson@opendap.org>

	o Attempt to fix configure failure portion of #1473 .  This is a known ICU 4.2.1 bug with newer automakes and will be in the next stable release.  For now I use there suggestion to workaround the problem in the stable release by changing configure.in

2010-01-28  Michael Johnson <m.johnson@opendap.org>

	o Added scan@dateFormatMark support and tests for #1444.

	o This required adding a modified redistribution of the ICU project for handling SimpleDateFormat and formatting ISO 8601 dates.   It is built as part of the modules build process and designed to not interfere with other installations of ICU that may already exist.  We link the static libraries directly into the module shared lib to avoid dependency issues.

2010-01-28  Michael Johnson <m.johnson@opendap.org>

	o New baseline for test 426 failing.  XML entity change resulted in changing baseline.

2010-01-25  hyoklee

	Corrected typo in URL.

2010-01-12  Patrick West <pwest@ucar.edu>

	No longer using the script to modify bes.conf. Instead, now using
	standalone configuration file.
	D    bes-ncml-data.sh.in
	A    ncml.conf.in
	M    Makefile.am

2010-01-10  Patrick West <pwest@ucar.edu>

	API change to BESKeys. Changed modules included in bes.conf to use
	xml_command module instead of string command module.
	M    DirectoryUtil.cc
	M    tests/bes.conf.in

2010-01-08  Patrick West <pwest@ucar.edu>

	--clean to clean build and src files for rpmbuild
	M    Makefile.am

2009-12-29  James Gallagher <jgallagher@opendap.org>

	Shrew build changes that will hopefully lead to a version that we can build using NMI's B&T system. Also, I added 'cccc' targets so that we can take a 'metrics snapshot' without undue pain.

2009-12-28  Michael Johnson <m.johnson@opendap.org>

	Added scan@olderThan functionality for filtering based on file modification times.

2009-12-18  Michael Johnson <m.johnson@opendap.org>

	o Added scan@regExp attribute support for specifying aggregation scans with a regular expression.  Part of #1444

2009-12-17  Michael Johnson <m.johnson@opendap.org>

	o Initial implementation of scanning dirs for aggregations (#1444).  Handles suffix, subdirs recursion only at the moment.

2009-12-02  Michael Johnson <m.johnson@opendap.org>

	For ticket #1450.  Added AttrTableLazyPtr to NCMLParser so that we only load the DDX for the root dataset (since it's required to actually load the metadata).  Any child dataset, i.e. aggregation member, will not have its DDX loaded by default any more, only those that show up in the hyperslab.

2009-12-01  Michael Johnson <m.johnson@opendap.org>

	Need include of <typinfo> for use of typeid in ISO C++.

2009-12-01  Michael Johnson <m.johnson@opendap.org>

	Attempt to fix broken ISO C++ issue with circular objects.

2009-11-30  Michael Johnson <m.johnson@opendap.org>

	o Initial checkpoint of Grid joinNew aggregation for #1419 and #1446.  Still several outstanding issues in other tickets.

2009-11-24  Michael Johnson <m.johnson@opendap.org>

	o Fixes to allow compilation with FILE_METHODS macro and other changes to libdap interfaces

2009-11-09  Michael Johnson <m.johnson@opendap.org>

	o Adding new files

2009-11-09  Michael Johnson <m.johnson@opendap.org>

	o Adding new files

2009-10-21  Michael Johnson <m.johnson@opendap.org>

	o Changed to SAX2 interface with namespace support, many required interface changes.  Allows OtherXML attribute to get a snapshot of any ancestral namespaces in its lexical scope before it's serialized so it remains namespace-valid and complete.

2009-10-09  Michael Johnson <m.johnson@opendap.org>

	Added tests for joinNew on HDF5 data.  Added HDF5 to make check install reqs and the besstandalone bes.conf.

2009-10-09  Michael Johnson <m.johnson@opendap.org>

	Changes to support NCML file line numbers in Parse Error exceptions. (Ticket #1432).

	Changed autotest match from fgrep to grep to allow regexp matching rather than exact strings.

2009-10-07  Michael Johnson <m.johnson@opendap.org>

	Test case for #1433.  Won't repro, expected fixed by fixes for #1416 in previous changeset.

2009-10-07  Michael Johnson <m.johnson@opendap.org>

	Fixed bugs with having a dot ('.') in an attribute name or a variable name causing a recursive search.  Dot is now a valid character for a variable or attribute name and it is no longer used as a DAP FQN field separator in an NCML context.  For Ticket #1416

2009-10-06  Michael Johnson <m.johnson@opendap.org>

	Added support for attributes of the new libdap attribute type "OtherXML" for ticket #1424 since WCS needs this.  The contained XML is checked for well-formedness, but otherwise is just copied verbatim, along with all whitespace.

2009-10-05  Michael Johnson <m.johnson@opendap.org>

	AggregationUtil.cc, AggregationElement.cc: Initial implementation of joinNew on Array for data response (dods) along with virtual dataset and Netcdf data tests.

	Shape.cc, NCMLBaseArray.h, NCMLArray.h:  Bug fixes in data caching code.

	Updated module version and libdap required version.

2009-10-01  Michael Johnson <m.johnson@opendap.org>

	Problem with tests in production versus debug build.  Removed.

2009-09-25  James Gallagher <jgallagher@opendap.org>

	It just seem right to save things at this point. Most of the configure.ac files have been updated. The libdap software has had a number of the FILE* methods/functions commented out using #if FILE_METHODS and then #undef FILE_METHODS. We'll see how much of the redundant code can be removed before the next Hyrax 1.6 release.

2009-09-22  Michael Johnson <m.johnson@opendap.org>

	Test case (DAS,DDX,DDS only) for multiple aggregation vars in joinNew.

2009-09-22  Michael Johnson <m.johnson@opendap.org>

	DDX, DAS, DDS responses for joinNew.

2009-09-16  Michael Johnson <m.johnson@opendap.org>

	Fixed segfault and other bugs with using empty string for attribute and variable values.  (ticket #1413)

2009-09-14  Michael Johnson <m.johnson@opendap.org>

	Fixed using attribute@separator on string arrays for ticket #1411.  Now if unspecified separator, whitespace is the default for all types EXCEPT string.  An attribute of type string will NOT be tokenized into an array if separator isn't specified, but only if it IS specified.  All other data types are tokenized with a whitespace separator.  (the annotated ncml2.2 schema specifies this).

2009-09-11  Michael Johnson <m.johnson@opendap.org>

	Fixed attribute of type string not properly tokenizing arrays of strings with a separator specified (ticket #1411)

	Added whitespace trimming from attribute values of numeric or URL type, but string maintains lead and trailing spaces. (ticket #1411)

2009-09-11  Michael Johnson <m.johnson@opendap.org>

	Changes describing problem with NetCDF Grid and DAS response.

2009-09-11  Michael Johnson <m.johnson@opendap.org>

	Disallowed assignment operator= in RCObject, NCMLElement, and all subclasses to avoid bugs.  We don't need it for now.

	RCObject.{h,cc}: Added copy ctor implementation that adds the copy to the prototype's pool if it exists.

	New tests for Grid bug in ticket #1405.

2009-09-09  Michael Johnson <m.johnson@opendap.org>

	o Added VariableAggElement needed for joinNew and support in AggregationElement for it.

	o Refactored NCMLElement to contain a back ptr to NCMLParser since many subclasses needed it.

2009-09-09  Michael Johnson <m.johnson@opendap.org>

	Added attribute validation checks to parse error on unknown attributes specified in all NCMLElement concrete subclasses rather than silently or mysteriously fail later.  See Ticket #1385.

2009-09-08  Michael Johnson <m.johnson@opendap.org>

	point check in to move it to new dir

2009-09-04  Michael Johnson <m.johnson@opendap.org>

	Made NCMLElement::Factory an instance member of NCMLParser rather than a singleton and added a basic memory pool that cleans up any dangling memory leaks from unref'd memory.

2009-09-04  Michael Johnson <m.johnson@opendap.org>

	ValuesElement.{h,cc}, VariableElement.{h,cc}: Bug fixes for not specifying values in new variable or specifying values more than once for new variable.  Ticket #1394

2009-09-03  Michael Johnson <m.johnson@opendap.org>

	AggregationUtil.{cc,h}: Change of namespace to agg_util to help clarify encapsulation of aggregation functions

	RCObject.{h,cc}: Made red() and unref() const and the count mutable to allow ref on const objects.

	AggregationElement.{h,cc}, NetcdfElement.{h,cc}, DimensionElement.{h,cc}: Added support for union on dimension for pure virtual datasets.

	More tests for union.

2009-09-03  Michael Johnson <m.johnson@opendap.org>

	bes.conf.in: changed the name of the cmd module to the new name

2009-09-03  Michael Johnson <m.johnson@opendap.org>

	Changed the bes.conf target to use the previously set BES_MODULE_DIR rather than run bes-config.

2009-09-02  Nathan Potter <ndp@coas.oregonstate.edu>

2009-09-02  Michael Johnson <m.johnson@opendap.org>

	o Fixed build errors in includes

2009-09-02  Michael Johnson <m.johnson@opendap.org>

	o Added forgotten baselines.

2009-09-02  Michael Johnson <m.johnson@opendap.org>

	o Added forgotten baselines.

2009-09-02  Michael Johnson <m.johnson@opendap.org>

	o Checkpointing impl of aggregation.

	o Added AggregationElement for parsing aggregations.

	o Refactored NetcdfElement to contain an aggregation element.

	o Refactored parser to handle more than one netcdf element.

	o Added RCObject and RCPtr<T> for reference coutned smart pointers for NCMLElement's to be kept around after the SAX parser pops them off the stack.

	o Added initial code for union aggregation in AggregationUtil.

	o Refactored DimensionElement to use new Dimension

	o Introduced agg_util namespace to encapsulate the aggregation code into its own lib eventually.

	o Initial tests for union aggregation.  We union attributes and variables, but dimensions are not yet implemented.

2009-09-02  Michael Johnson <m.johnson@opendap.org>

	o Fixed build errors from changes to BESDEBUG.

2009-09-02  Michael Johnson <m.johnson@opendap.org>

	o Changed #include to non-deprecated one.

2009-09-02  Michael Johnson <m.johnson@opendap.org>

	o Removed function call that was removed from libdap trunk causing build error.

2009-08-21  Michael Johnson <m.johnson@opendap.org>

	Test that reentrancy into NcML handler works.

2009-08-21  Michael Johnson <m.johnson@opendap.org>

	Dependency on removed bes-testsuite fixed.

2009-08-21  Michael Johnson <m.johnson@opendap.org>

	Build fixes to sync with header changes in BES.

2009-08-20  Michael Johnson <m.johnson@opendap.org>

	Updated notes on tests known to fail for libdap 3.9.3 and earlier.

2009-08-20  Michael Johnson <m.johnson@opendap.org>

	Updated docs preparing for tag.

2009-08-20  Michael Johnson <m.johnson@opendap.org>

	Removed obsolete bes-testsuite directory.

2009-08-20  Michael Johnson <m.johnson@opendap.org>

	Added more output to error matching tests

2009-08-20  Michael Johnson <m.johnson@opendap.org>

	Removed another bes-testsuite reference.

2009-08-20  Michael Johnson <m.johnson@opendap.org>

	Removed bes-testsuite from build and DejaGNU from Prereqs.

2009-08-20  Michael Johnson <m.johnson@opendap.org>

	Converted bes-testsuite DejaGNU tests over to autotest to remove dependency and simplify make distcheck.  Ticket #1377

2009-08-20  Michael Johnson <m.johnson@opendap.org>

	More changes to get autotest working in a vbuild.

2009-08-20  Michael Johnson <m.johnson@opendap.org>

	More changes to get autotest working in a vbuild.

2009-08-20  Michael Johnson <m.johnson@opendap.org>

	Attempts at replacing 'readlink -f' if it fails to work (like on Darwin)

2009-08-20  Michael Johnson <m.johnson@opendap.org>

	Removing autogenerated files from conf/
	tests/bes.conf.in: moved to tests to remove dep on bes-testsuite

2009-08-20  Michael Johnson <m.johnson@opendap.org>

	Removing autogenerated files from conf/

2009-08-20  Michael Johnson <m.johnson@opendap.org>

	Doc update.

2009-08-20  Michael Johnson <m.johnson@opendap.org>

	Changes to allow make distcheck to work with autotest.

2009-08-20  Michael Johnson <m.johnson@opendap.org>

	RenamedArrayWrapper.cc, RenamedArrayWrapper.h, VariableElement.cc: Array decorator pattern to allow renaming of Array subclasses with lazy read() (such as NCArray and HDFArray) while maintaining lazy read (and not loading it all into memory).

	NCMUtil.h: Added SAFE_DELETE macro for common delete foo; foo=0;  code.

;; Local Variables:
;; coding: utf-8
;; End:

2009-08-20  Michael Johnson <m.johnson@opendap.org>

	Removed obsolete bes-testsuite directory.

2009-08-20  Michael Johnson <m.johnson@opendap.org>

	Added more output to error matching tests

2009-08-20  Michael Johnson <m.johnson@opendap.org>

	Removed another bes-testsuite reference.

2009-08-20  Michael Johnson <m.johnson@opendap.org>

	Removed bes-testsuite from build and DejaGNU from Prereqs.

2009-08-20  Michael Johnson <m.johnson@opendap.org>

	Converted bes-testsuite DejaGNU tests over to autotest to remove dependency and simplify make distcheck.  Ticket #1377

2009-08-20  Michael Johnson <m.johnson@opendap.org>

	More changes to get autotest working in a vbuild.

2009-08-20  Michael Johnson <m.johnson@opendap.org>

	More changes to get autotest working in a vbuild.

2009-08-20  Michael Johnson <m.johnson@opendap.org>

	Attempts at replacing 'readlink -f' if it fails to work (like on Darwin)

2009-08-20  Michael Johnson <m.johnson@opendap.org>

	Removing autogenerated files from conf/
	tests/bes.conf.in: moved to tests to remove dep on bes-testsuite

2009-08-20  Michael Johnson <m.johnson@opendap.org>

	Removing autogenerated files from conf/

2009-08-20  Michael Johnson <m.johnson@opendap.org>

	Doc update.

2009-08-20  Michael Johnson <m.johnson@opendap.org>

	Changes to allow make distcheck to work with autotest.

2009-08-20  Michael Johnson <m.johnson@opendap.org>

	RenamedArrayWrapper.cc, RenamedArrayWrapper.h, VariableElement.cc: Array decorator pattern to allow renaming of Array subclasses with lazy read() (such as NCArray and HDFArray) while maintaining lazy read (and not loading it all into memory).

	NCMUtil.h: Added SAFE_DELETE macro for common delete foo; foo=0;  code.

2009-08-18  Michael Johnson <m.johnson@opendap.org>

	Minor doc changes.

2009-08-18  Michael Johnson <m.johnson@opendap.org>

	Preparing for external build and tag of 0.9.1.


2009-08-18  Michael Johnson <m.johnson@opendap.org>

	Added exception for trying to specify <values> for a pre-existing variable.  Ticket #1373.

2009-08-17  Michael Johnson <m.johnson@opendap.org>

	Fixed bug with rename Array's not handling hyperslab constraints.  (Ticket #1372)
	Refactored non-parameterized code for NCMLArray<T> into a superclass NCMLBaseArray.

2009-08-14  Michael Johnson <m.johnson@opendap.org>

	For  Ticket #1367:
	* Added NCMLArray<T>, subclass of libdap::Array, to compute hyperslab constraints for NcML dynamically created data since Array does not do it itself.
	* Added Shape class to handle enumeration of constrained spaces for calculating hyperslabs.

2009-08-12  Michael Johnson <m.johnson@opendap.org>

	Fixed sed bug for constraints with : symbol.

2009-08-12  Michael Johnson <m.johnson@opendap.org>

	Added ability to specify multi-dimensional arrays in NcML for Ticket #1364.  Constraints are broken.

2009-08-11  Michael Johnson <m.johnson@opendap.org>

	Added ability to create new 1D arrays of all types, including use of dimension element and autogeneration of values.  See also ticket #1353.

	Removed baselines for error tests since they are no longer used.

2009-08-10  Michael Johnson <m.johnson@opendap.org>

	Added ability to call remove on a variable at global DDS level or within a Structure.  Ticket #1352.

2009-08-07  Michael Johnson <m.johnson@opendap.org>

	Ticket #1354: Added ability to add a new Structure variable and tests for simple case, nested case and for parse error of setting values in a structure.

	Changes to allow purely synthesized datasets for the case of no specified netcdf@location attribute.

2009-08-07  Michael Johnson <m.johnson@opendap.org>

	Ticket #1351: new rejection tests.

2009-08-07  Michael Johnson <m.johnson@opendap.org>

	Ticket #1351: new rejection tests.

2009-08-07  Michael Johnson <m.johnson@opendap.org>

	Ticket #1351:  Added ability to create new scalar variables of simple atomic types.

	testsuite.at: Added support for testing against a getdap ascii version of a dods response for easier human verification of baseline data for new variables.

2009-08-05  Michael Johnson <m.johnson@opendap.org>

	testsuite.at: added ability to specify constraint expressions in autotest check macros

	variable_rename.at: repository for variable@orgName tests, included in testsuite.at

	Added new tests on variable rename for Structure and with constraints applied to renamed variable.

2009-08-04  Michael Johnson <m.johnson@opendap.org>

	VariableElement.cc, NCMLParser.cc, NCMLUtil.cc:  added support for renaming variables with variable@orgName (#1349).

	Added new Autotest testsuite in tests/ directory (#1348).

2009-07-31  Michael Johnson <m.johnson@opendap.org>

	* Added ability for NCMLParser to handle handle DataDDS request as well as DDX to support addition of new variables.

2009-07-30  Michael Johnson <m.johnson@opendap.org>

	Refactored NCMLParser to have separate classes for each NcML element type and to use polymorphic dispatch.  Ticket #1325

2009-07-29  Michael Johnson <m.johnson@opendap.org>

	NCMLRequestHandler.cc:  added reference to Wiki for help request.

	README, INSTALL: minor changes for odd error.

2009-07-28  Michael Johnson <m.johnson@opendap.org>

	InstallationCheck minor change.

2009-07-28  Michael Johnson <m.johnson@opendap.org>

	InstallationCheck: fixed bug with new {dap,bes}-config --version output.

2009-07-28  Michael Johnson <m.johnson@opendap.org>

	Added OSX_Resources for 'make pkg' support.

2009-07-28  Michael Johnson <m.johnson@opendap.org>

	Made test filenames smaller so 'make dist' doesn't leave them out.

	ncml_module.spec: Fixed 'make rpm' failure.

2009-07-27  Michael Johnson <m.johnson@opendap.org>

	o release updates

2009-07-27  Michael Johnson <m.johnson@opendap.org>

	o Installation fixes.

2009-07-27  Michael Johnson <m.johnson@opendap.org>

	o Installation fixes.

2009-07-27  Michael Johnson  <m.johnson@opendap.org>

	* Initial internal release.  

